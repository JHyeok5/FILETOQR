<!doctype html><html lang="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="텍스트 파일을 QR 코드로 변환하세요. 브라우저에서 직접 처리되어 서버로 업로드되지 않습니다."><meta name="keywords" content="텍스트 파일, QR 코드, 파일 변환, QR 코드 생성, 무료 QR"><title>텍스트 파일을 QR 코드로 변환 - FileToQR</title><link rel="stylesheet" href="assets/css/styles.css"><link rel="stylesheet" href="assets/css/rtl.css"><script src="https://cdn.tailwindcss.com"></script><link rel="icon" href="favicon.ico" type="image/x-icon"><link rel="alternate" hreflang="ko" href="text-to-qr.html"><link rel="alternate" hreflang="en" href="en/text-to-qr.html"><link rel="alternate" hreflang="zh" href="zh/text-to-qr.html"><link rel="alternate" hreflang="ja" href="ja/text-to-qr.html"><link rel="alternate" hreflang="x-default" href="text-to-qr.html"><style>/* QR 코드 프리뷰 스타일 */
        .qr-preview-container {
            width: 100%;
            max-width: 256px;
            margin: 0 auto;
            aspect-ratio: 1 / 1;
            border: 2px dashed #ccc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9f9f9;
            overflow: hidden;
        }</style></head><body class="bg-gray-50 text-gray-900 min-h-screen flex flex-col"><header class="bg-white shadow-sm sticky top-0 z-50"><div class="container mx-auto px-4 py-4"><div class="flex justify-between items-center"><a href="index.html" class="flex items-center"><img src="assets/images/logo.svg" alt="FileToQR 로고" class="h-8 mr-2" onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjU2M0VCIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci1maWxlIj48cGF0aCBkPSJNMTMgMkgxOEMyMC4yMDkxIDIgMjIgMy43OTA4NiAyMiA2VjE4QzIyIDIwLjIwOTEgMjAuMjA5MSAyMiAxOCAyMkg2QzMuNzkwODYgMjIgMiAyMC4yMDkxIDIgMThWNkMyIDMuNzkwODYgMy43OTA4NiAyIDYgMkgxMFoiPjwvcGF0aD48cGF0aCBkPSJNNyAxNkwxMSAxMkwxNSAxNiI+PC9wYXRoPjxwYXRoIGQ9Ik03IDEyTDExIDhMMTUgMTIiPjwvcGF0aD48L3N2Zz4='; this.classList.add('h-8');"> <span class="text-2xl font-bold text-blue-600">FileToQR</span></a><nav class="flex items-center"><ul class="flex space-x-6"><li><a href="index.html" class="text-gray-700 hover:text-blue-600 font-medium">홈</a></li><li><a href="convert.html" class="text-gray-700 hover:text-blue-600 font-medium">파일 변환</a></li><li><a href="qrcode.html" class="text-gray-700 hover:text-blue-600 font-medium">QR 코드</a></li><li><a href="text-to-qr.html" class="text-gray-700 hover:text-blue-600 font-medium active">텍스트→QR</a></li><li><a href="help.html" class="text-gray-700 hover:text-blue-600 font-medium">도움말</a></li></ul><div class="language-selector dropdown"><button class="lang-dropdown-btn" id="lang-selector-toggle" aria-label="언어 변경"><span class="lang-flag-icon ko-flag" aria-hidden="true"></span> <span class="lang-label">한국어</span> <svg class="lang-dropdown-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="lang-dropdown-content" id="lang-dropdown-menu" role="menu"><div class="lang-dropdown-header"><span>언어 선택</span></div><div class="lang-dropdown-list"><a href="text-to-qr.html" class="lang-option active" data-lang="ko" role="menuitem" aria-label="한국어" aria-current="true"><span class="lang-flag-icon ko-flag" aria-hidden="true"></span> <span class="lang-name">한국어</span> </a><a href="en/text-to-qr.html" class="lang-option" data-lang="en" role="menuitem" aria-label="영어" aria-current="false"><span class="lang-flag-icon en-flag" aria-hidden="true"></span> <span class="lang-name">영어</span> </a><a href="zh/text-to-qr.html" class="lang-option" data-lang="zh" role="menuitem" aria-label="중국어" aria-current="false"><span class="lang-flag-icon zh-flag" aria-hidden="true"></span> <span class="lang-name">중국어</span> </a><a href="ja/text-to-qr.html" class="lang-option" data-lang="ja" role="menuitem" aria-label="일본어" aria-current="false"><span class="lang-flag-icon ja-flag" aria-hidden="true"></span> <span class="lang-name">일본어</span></a></div></div></div></nav></div></div></header><main class="flex-grow container mx-auto px-4 py-8"><section class="mb-12"><h1 class="text-3xl font-bold mb-4 text-center">텍스트 파일을 QR 코드로 변환</h1><p class="text-lg text-gray-600 mb-8 text-center">텍스트 파일(.txt)을 QR 코드로 변환하세요. QR 코드 스캔 시 텍스트 내용을 즉시 확인할 수 있습니다.</p><div class="max-w-4xl mx-auto"><div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded-lg"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/></svg></div><div class="ml-3"><p class="text-sm text-blue-800"><strong>참고:</strong> QR 코드에는 용량 제한이 있어 최대 5KB 크기의 텍스트 파일만 변환할 수 있습니다. 텍스트가 너무 길면 QR 코드 인식이 어려울 수 있습니다.</p></div></div></div><div class="mb-6 border-b border-gray-200"><ul class="flex flex-wrap -mb-px"><li class="mr-2"><button id="tab-file" class="inline-block py-2 px-4 text-indigo-600 hover:text-indigo-800 font-medium border-b-2 border-indigo-600 active" role="tab" aria-selected="true">파일 업로드</button></li><li class="mr-2"><button id="tab-text" class="inline-block py-2 px-4 text-gray-500 hover:text-gray-700 font-medium border-b-2 border-transparent hover:border-gray-300" role="tab" aria-selected="false">직접 텍스트 입력</button></li></ul></div><div class="grid md:grid-cols-2 gap-8"><div id="content-file" class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-xl font-semibold mb-4">텍스트 파일 업로드</h2><div id="file-upload-section" class="mb-6"><div class="flex items-center justify-center w-full"><label for="file-upload" class="flex flex-col items-center justify-center w-full h-48 border-2 border-blue-300 border-dashed rounded-lg cursor-pointer bg-blue-50 hover:bg-blue-100 transition-colors"><div class="flex flex-col items-center justify-center pt-5 pb-6"><svg class="w-10 h-10 mb-3 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg><p class="mb-2 text-sm text-gray-500"><span class="font-semibold">텍스트 파일(.txt)을 선택</span> 또는 여기로 드래그하세요</p><p class="text-xs text-gray-500">최대 파일 크기: 5KB</p></div><input id="file-upload" type="file" accept=".txt,text/plain" class="hidden"></label></div></div><div class="bg-gray-50 p-4 rounded-lg"><h3 class="font-semibold mb-2">텍스트 파일의 QR 코드 활용 예시</h3><ul class="text-sm text-gray-600 space-y-2"><li>• 메모, 중요 정보를 QR 코드로 저장 및 공유</li><li>• 연락처 정보를 QR 코드로 빠르게 공유</li><li>• 간단한 명령어나 설정을 QR 코드로 배포</li><li>• 상품 설명이나 매뉴얼을 QR 코드로 접근 가능하게 함</li><li>• 암호나 보안 정보를 오프라인으로 백업</li></ul></div></div><div id="content-text" class="bg-white p-6 rounded-lg shadow-md hidden"><h2 class="text-xl font-semibold mb-4">텍스트 직접 입력</h2><div class="mb-6"><label for="direct-text" class="block text-sm font-medium text-gray-700 mb-2">QR 코드로 변환할 텍스트 입력</label> <textarea id="direct-text" rows="10" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" placeholder="여기에 텍스트를 입력하세요. 최대 2,000자까지 권장합니다."></textarea><div class="flex justify-between items-center mt-2"><span id="text-counter" class="text-xs text-gray-500">0 / 2000 자</span> <button id="generate-qr-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium">QR 코드 생성</button></div></div><div class="bg-gray-50 p-4 rounded-lg"><h3 class="font-semibold mb-2">텍스트 입력 팁</h3><ul class="text-sm text-gray-600 space-y-2"><li>• 가능한 짧고 간결한 텍스트를 사용하세요</li><li>• URL을 공유하려면 단축 URL을 사용하는 것이 좋습니다</li><li>• 특수 문자가 많으면 QR 코드가 복잡해질 수 있습니다</li><li>• 다른 앱과 공유할 때는 기본 ASCII 문자를 사용하세요</li></ul></div></div><div id="conversion-output" class="bg-white p-6 rounded-lg shadow-md hidden"><h2 class="text-xl font-semibold mb-4">QR 코드 변환 결과</h2><div class="bg-gray-50 p-4 rounded-lg border border-gray-200 flex flex-col items-center"><div id="qr-preview-container" class="qr-preview-container mb-4"><div class="text-center text-gray-500">텍스트 파일을 업로드하면 QR 코드가 여기에 표시됩니다.</div></div><div id="file-info" class="w-full text-sm text-gray-600 mb-4 hidden"><div class="p-3 bg-blue-50 rounded-md"><p class="font-medium">파일 정보:</p><p id="file-name">파일명:</p><p id="file-size">파일 크기:</p></div></div></div><div class="flex justify-center gap-4 mt-4"><button id="download-qr-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed" disabled="disabled">QR 코드 다운로드</button> <button id="convert-another-btn" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium">다른 파일 변환</button></div></div></div></div></section><section class="mb-12"><h2 class="text-2xl font-bold mb-6 text-center">텍스트 파일을 QR 코드로 변환하는 방법</h2><div class="max-w-4xl mx-auto"><div class="grid md:grid-cols-3 gap-6"><div class="bg-white p-6 rounded-lg shadow-md"><div class="text-center mb-4"><div class="bg-blue-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto"><span class="text-blue-600 font-bold text-xl">1</span></div></div><h3 class="text-lg font-semibold mb-2 text-center">텍스트 파일 준비</h3><p class="text-gray-600">변환하려는 텍스트 내용이 담긴 .txt 파일을 준비합니다. 텍스트 파일은 최대 5KB 크기여야 합니다.</p></div><div class="bg-white p-6 rounded-lg shadow-md"><div class="text-center mb-4"><div class="bg-blue-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto"><span class="text-blue-600 font-bold text-xl">2</span></div></div><h3 class="text-lg font-semibold mb-2 text-center">파일 업로드</h3><p class="text-gray-600">텍스트 파일을 업로드 영역에 드래그하거나 클릭하여 선택합니다. 업로드는 브라우저에서만 처리됩니다.</p></div><div class="bg-white p-6 rounded-lg shadow-md"><div class="text-center mb-4"><div class="bg-blue-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto"><span class="text-blue-600 font-bold text-xl">3</span></div></div><h3 class="text-lg font-semibold mb-2 text-center">QR 코드 설정 및 다운로드</h3><p class="text-gray-600">QR 코드 크기와 오류 수정 레벨을 원하는 대로 조정하고, 생성된 QR 코드를 다운로드하여 활용하세요.</p></div></div></div></section><section class="mb-12 max-w-4xl mx-auto"><h2 class="text-2xl font-bold mb-6 text-center">자주 묻는 질문</h2><div class="bg-white p-6 rounded-lg shadow-md"><div class="space-y-4"><div><h3 class="font-bold text-lg text-gray-800">QR 코드에 얼마나 많은 텍스트를 담을 수 있나요?</h3><p class="text-gray-600 mt-2">QR 코드는 버전과 오류 수정 레벨에 따라 다르지만, 일반적으로 영숫자 기준 약 2,000자까지 저장할 수 있습니다. 그러나 텍스트가 길수록 QR 코드가 복잡해져 인식률이 떨어질 수 있습니다.</p></div><div><h3 class="font-bold text-lg text-gray-800">오류 수정 레벨은 무엇인가요?</h3><p class="text-gray-600 mt-2">오류 수정 레벨은 QR 코드가 손상되거나 일부가 가려져도 내용을 복원할 수 있는 수준입니다. 레벨이 높을수록(L→M→Q→H) 내용 복원 능력이 높아지지만, 저장할 수 있는 데이터 양은 줄어듭니다.</p></div><div><h3 class="font-bold text-lg text-gray-800">텍스트 파일이 UTF-8이 아닌 인코딩을 사용하면 어떻게 되나요?</h3><p class="text-gray-600 mt-2">이 변환기는 브라우저의 기본 인코딩을 사용합니다. 대부분의 경우 UTF-8을 지원하지만, 특수 인코딩을 사용하는 파일은 제대로 표시되지 않을 수 있습니다. 가능하면 UTF-8 인코딩의 텍스트 파일을 사용하세요.</p></div></div></div></section></main><footer class="bg-gray-100 mt-12"><div class="container mx-auto px-4 py-8"><div class="grid md:grid-cols-3 gap-8"><div><h3 class="text-lg font-bold mb-4">FileToQR</h3><p class="text-gray-600 mb-4">서버에 파일을 업로드하지 않고 브라우저에서 직접 파일을 변환하고 QR 코드를 생성하세요.</p></div><div><h3 class="text-lg font-bold mb-4">바로가기</h3><ul class="space-y-2"><li><a href="index.html" class="text-gray-600 hover:text-blue-600">홈</a></li><li><a href="convert.html" class="text-gray-600 hover:text-blue-600">파일 변환</a></li><li><a href="qrcode.html" class="text-gray-600 hover:text-blue-600">QR 코드</a></li><li><a href="text-to-qr.html" class="text-gray-600 hover:text-blue-600">텍스트→QR</a></li><li><a href="help.html" class="text-gray-600 hover:text-blue-600">도움말</a></li></ul></div><div><h3 class="text-lg font-bold mb-4">법적 정보</h3><ul class="space-y-2"><li><a href="privacy.html" class="text-gray-600 hover:text-blue-600">개인정보 처리방침</a></li><li><a href="terms.html" class="text-gray-600 hover:text-blue-600">이용약관</a></li></ul></div></div><div class="border-t border-gray-200 mt-8 pt-6 text-center text-gray-500"><p>© 2025 FileToQR. 모든 권리 보유.</p><p class="mt-1">최종 업데이트: 2025년 6월 15일</p></div></div></footer><script type="module">import QRGenerator from './assets/js/qr-generator/qr-generator.js';
        import FileToQRConverter from './assets/js/converters/file-to-qr-converter.js';
        
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('텍스트-QR 변환 페이지 초기화 중...');
            
            try {
                // QR 생성기 초기화
                await QRGenerator.init();
                
                // 파일-QR 변환기 초기화
                await FileToQRConverter.init();
                
                // 탭 전환 기능 초기화
                initTabs();
                
                // 직접 텍스트 입력 기능 초기화
                initTextInput();
                
                console.log('페이지 초기화 완료');
            } catch (error) {
                console.error('페이지 초기화 중 오류 발생:', error);
            }
        });
        
        /**
         * 탭 전환 기능 초기화
         */
        function initTabs() {
            const tabFile = document.getElementById('tab-file');
            const tabText = document.getElementById('tab-text');
            const contentFile = document.getElementById('content-file');
            const contentText = document.getElementById('content-text');
            const outputContainer = document.getElementById('conversion-output');
            
            if (!tabFile || !tabText || !contentFile || !contentText) return;
            
            // 파일 탭 클릭
            tabFile.addEventListener('click', () => {
                // 탭 활성화
                tabFile.classList.add('text-indigo-600', 'border-indigo-600');
                tabFile.classList.remove('text-gray-500', 'border-transparent');
                tabFile.setAttribute('aria-selected', 'true');
                
                // 다른 탭 비활성화
                tabText.classList.add('text-gray-500', 'border-transparent');
                tabText.classList.remove('text-indigo-600', 'border-indigo-600');
                tabText.setAttribute('aria-selected', 'false');
                
                // 컨텐츠 표시/숨김
                contentFile.classList.remove('hidden');
                contentText.classList.add('hidden');
                
                // 결과 영역 초기화
                resetOutput();
            });
            
            // 텍스트 탭 클릭
            tabText.addEventListener('click', () => {
                // 탭 활성화
                tabText.classList.add('text-indigo-600', 'border-indigo-600');
                tabText.classList.remove('text-gray-500', 'border-transparent');
                tabText.setAttribute('aria-selected', 'true');
                
                // 다른 탭 비활성화
                tabFile.classList.add('text-gray-500', 'border-transparent');
                tabFile.classList.remove('text-indigo-600', 'border-indigo-600');
                tabFile.setAttribute('aria-selected', 'false');
                
                // 컨텐츠 표시/숨김
                contentText.classList.remove('hidden');
                contentFile.classList.add('hidden');
                
                // 결과 영역 초기화
                resetOutput();
            });
        }
        
        /**
         * 직접 텍스트 입력 기능 초기화
         */
        function initTextInput() {
            const textArea = document.getElementById('direct-text');
            const textCounter = document.getElementById('text-counter');
            const generateButton = document.getElementById('generate-qr-btn');
            
            if (!textArea || !textCounter || !generateButton) return;
            
            // 텍스트 입력 시 카운터 업데이트
            textArea.addEventListener('input', () => {
                const textLength = textArea.value.length;
                textCounter.textContent = `${textLength} / 2000 자`;
                
                // 너무 긴 텍스트인 경우 경고 표시
                if (textLength > 2000) {
                    textCounter.classList.remove('text-gray-500');
                    textCounter.classList.add('text-red-500', 'font-medium');
                } else {
                    textCounter.classList.remove('text-red-500', 'font-medium');
                    textCounter.classList.add('text-gray-500');
                }
            });
            
            // QR 코드 생성 버튼 클릭 처리
            generateButton.addEventListener('click', async () => {
                const text = textArea.value.trim();
                
                if (!text) {
                    alert('변환할 텍스트를 입력해주세요.');
                    return;
                }
                
                if (text.length > 4300) {
                    alert('텍스트가 너무 깁니다. 4300자 이하로 입력해주세요.');
                    return;
                }
                
                try {
                    // 로딩 상태 표시
                    showLoading(true);
                    
                    // QR 코드 생성
                    await generateTextQR(text);
                    
                } catch (error) {
                    console.error('QR 코드 생성 중 오류 발생:', error);
                    showError('QR 코드 생성에 실패했습니다.');
                } finally {
                    // 로딩 상태 해제
                    showLoading(false);
                }
            });
        }
        
        /**
         * 텍스트에서 QR 코드 생성
         * @param {string} text QR 코드에 인코딩할 텍스트
         */
        async function generateTextQR(text) {
            // 출력 영역 준비
            const outputContainer = document.getElementById('conversion-output');
            if (!outputContainer) return;
            
            // 출력 영역 내용 설정
            outputContainer.innerHTML = `
                <h2 class="text-xl font-semibold mb-4">QR 코드 변환 결과</h2>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 flex flex-col items-center">
                    <div id="qr-preview-container" class="qr-preview-container mb-4">
                        <div class="text-center text-gray-500">
                            QR 코드 생성 중...
                        </div>
                    </div>
                    <div id="text-info" class="w-full text-sm text-gray-600 mb-4">
                        <div class="p-3 bg-blue-50 rounded-md">
                            <p class="font-medium">입력 정보:</p>
                            <p>문자 수: ${text.length} 자</p>
                            <p class="mt-2 text-xs text-gray-500 line-clamp-2 overflow-hidden">${text.substring(0, 100)}${text.length > 100 ? '...' : ''}</p>
                        </div>
                    </div>
                    
                    <div id="qr-settings" class="w-full mb-4">
                        <div class="p-3 bg-gray-50 rounded-md">
                            <h3 class="font-medium mb-2">QR 코드 설정</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">오류 수정 레벨</label>
                                    <select id="error-correction-text" class="w-full px-3 py-2 border rounded-md">
                                        <option value="L">낮음 (7%)</option>
                                        <option value="M" selected>중간 (15%)</option>
                                        <option value="Q">높음 (25%)</option>
                                        <option value="H">최고 (30%)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">QR 코드 크기</label>
                                    <select id="qr-size-text" class="w-full px-3 py-2 border rounded-md">
                                        <option value="200">작게 (200x200)</option>
                                        <option value="256" selected>보통 (256x256)</option>
                                        <option value="320">크게 (320x320)</option>
                                        <option value="400">아주 크게 (400x400)</option>
                                    </select>
                                </div>
                            </div>
                            <button id="regenerate-text-qr" class="mt-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium text-sm">설정 적용 및 재생성</button>
                        </div>
                    </div>
                </div>
                <div class="flex justify-center gap-4 mt-4">
                    <button id="download-text-qr" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium">
                        QR 코드 다운로드
                    </button>
                    <button id="reset-text-qr" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium">
                        새로운 텍스트 입력
                    </button>
                </div>
            `;
            
            // 출력 영역 표시
            outputContainer.classList.remove('hidden');
            
            // QR 코드 생성
            const qrContainer = document.getElementById('qr-preview-container');
            if (!qrContainer) return;
            
            // 캔버스 생성
            const canvas = document.createElement('canvas');
            const size = parseInt(document.getElementById('qr-size-text').value, 10) || 256;
            canvas.width = size;
            canvas.height = size;
            qrContainer.innerHTML = '';
            qrContainer.appendChild(canvas);
            
            // QR 코드 생성
            const errorLevel = document.getElementById('error-correction-text').value || 'M';
            try {
                await QRGenerator.state.qrLibrary.toCanvas(canvas, text, {
                    width: size,
                    margin: 4,
                    color: {
                        dark: '#000000',
                        light: '#ffffff'
                    },
                    errorCorrectionLevel: errorLevel
                });
                
                // 캔버스 스타일 추가
                canvas.style.maxWidth = '100%';
                canvas.style.height = 'auto';
                canvas.classList.add('shadow-md', 'rounded-md');
                
                // 이벤트 리스너 등록
                const downloadBtn = document.getElementById('download-text-qr');
                if (downloadBtn) {
                    downloadBtn.addEventListener('click', () => downloadQR(canvas, 'text-qr-code'));
                }
                
                const resetBtn = document.getElementById('reset-text-qr');
                if (resetBtn) {
                    resetBtn.addEventListener('click', resetTextInput);
                }
                
                const regenerateBtn = document.getElementById('regenerate-text-qr');
                if (regenerateBtn) {
                    regenerateBtn.addEventListener('click', () => regenerateTextQR(text));
                }
                
            } catch (error) {
                console.error('QR 코드 생성 중 오류 발생:', error);
                showError('QR 코드 생성에 실패했습니다. 텍스트 내용이 너무 길거나 특수 문자가 많습니다.');
            }
        }
        
        /**
         * 텍스트 QR 코드 재생성
         * @param {string} text QR 코드에 인코딩할 텍스트
         */
        async function regenerateTextQR(text) {
            const qrContainer = document.getElementById('qr-preview-container');
            if (!qrContainer) return;
            
            // 로딩 상태 표시
            qrContainer.innerHTML = `
                <div class="text-center text-gray-500">
                    <svg class="animate-spin h-10 w-10 text-blue-500 mx-auto mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    <p>QR 코드 생성 중...</p>
                </div>
            `;
            
            try {
                // 캔버스 생성
                const canvas = document.createElement('canvas');
                const size = parseInt(document.getElementById('qr-size-text').value, 10) || 256;
                canvas.width = size;
                canvas.height = size;
                
                // QR 코드 생성
                const errorLevel = document.getElementById('error-correction-text').value || 'M';
                await QRGenerator.state.qrLibrary.toCanvas(canvas, text, {
                    width: size,
                    margin: 4,
                    color: {
                        dark: '#000000',
                        light: '#ffffff'
                    },
                    errorCorrectionLevel: errorLevel
                });
                
                // 캔버스 스타일 추가
                canvas.style.maxWidth = '100%';
                canvas.style.height = 'auto';
                canvas.classList.add('shadow-md', 'rounded-md');
                
                // 캔버스 표시
                qrContainer.innerHTML = '';
                qrContainer.appendChild(canvas);
                
                // 다운로드 이벤트 리스너 업데이트
                const downloadBtn = document.getElementById('download-text-qr');
                if (downloadBtn) {
                    downloadBtn.addEventListener('click', () => downloadQR(canvas, 'text-qr-code'));
                }
                
                // 성공 메시지
                const qrSettings = document.getElementById('qr-settings');
                if (qrSettings) {
                    const successMsg = document.createElement('div');
                    successMsg.className = 'text-green-600 text-sm mt-2 text-center';
                    successMsg.textContent = 'QR 코드가 새 설정으로 재생성되었습니다.';
                    
                    // 기존 메시지 제거
                    const existingMsg = qrSettings.querySelector('.text-green-600');
                    if (existingMsg) existingMsg.remove();
                    
                    qrSettings.appendChild(successMsg);
                    
                    // 3초 후 메시지 자동 제거
                    setTimeout(() => {
                        if (successMsg.parentNode) {
                            successMsg.remove();
                        }
                    }, 3000);
                }
                
            } catch (error) {
                console.error('QR 코드 재생성 중 오류 발생:', error);
                showError('QR 코드 생성에 실패했습니다. 텍스트 내용이 너무 길거나 특수 문자가 많습니다.');
            }
        }
        
        /**
         * QR 코드 다운로드 처리
         * @param {HTMLCanvasElement} canvas QR 코드 캔버스
         * @param {string} filename 파일명
         */
        function downloadQR(canvas, filename) {
            if (!canvas) {
                alert('QR 코드를 먼저 생성해주세요.');
                return;
            }
            
            try {
                // 다운로드 링크 생성
                const link = document.createElement('a');
                const now = new Date();
                const dateStr = `${now.getFullYear()}${(now.getMonth()+1).toString().padStart(2, '0')}${now.getDate().toString().padStart(2, '0')}`;
                const timeStr = `${now.getHours().toString().padStart(2, '0')}${now.getMinutes().toString().padStart(2, '0')}`;
                
                link.download = `${filename}-${dateStr}${timeStr}.png`;
                link.href = canvas.toDataURL('image/png', 1.0);
                link.click();
                
                // 다운로드 성공 메시지
                const downloadBtn = document.getElementById('download-text-qr');
                if (downloadBtn) {
                    const originalText = downloadBtn.textContent;
                    downloadBtn.textContent = '다운로드 완료!';
                    downloadBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    downloadBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                    
                    // 3초 후 원래 상태로 복원
                    setTimeout(() => {
                        downloadBtn.textContent = originalText;
                        downloadBtn.classList.remove('bg-green-600', 'hover:bg-green-700');
                        downloadBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                    }, 3000);
                }
            } catch (error) {
                console.error('QR 코드 다운로드 중 오류 발생:', error);
                alert('QR 코드 다운로드에 실패했습니다.');
            }
        }
        
        /**
         * 텍스트 입력 초기화
         */
        function resetTextInput() {
            const textArea = document.getElementById('direct-text');
            const textCounter = document.getElementById('text-counter');
            
            if (textArea) {
                textArea.value = '';
            }
            
            if (textCounter) {
                textCounter.textContent = '0 / 2000 자';
                textCounter.classList.remove('text-red-500', 'font-medium');
                textCounter.classList.add('text-gray-500');
            }
            
            resetOutput();
        }
        
        /**
         * 출력 영역 초기화
         */
        function resetOutput() {
            const outputContainer = document.getElementById('conversion-output');
            if (outputContainer) {
                outputContainer.classList.add('hidden');
                outputContainer.innerHTML = '';
            }
        }
        
        /**
         * 로딩 상태 표시
         * @param {boolean} isLoading 로딩 중 여부
         */
        function showLoading(isLoading) {
            const generateButton = document.getElementById('generate-qr-btn');
            
            if (generateButton) {
                if (isLoading) {
                    generateButton.disabled = true;
                    generateButton.innerHTML = `
                        <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        처리 중...
                    `;
                } else {
                    generateButton.disabled = false;
                    generateButton.textContent = 'QR 코드 생성';
                }
            }
        }
        
        /**
         * 오류 메시지 표시
         * @param {string} message 오류 메시지
         */
        function showError(message) {
            const outputContainer = document.getElementById('conversion-output');
            if (!outputContainer) return;
            
            outputContainer.innerHTML = `
                <h2 class="text-xl font-semibold mb-4">QR 코드 변환 결과</h2>
                <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 text-center">
                    <svg class="h-12 w-12 text-red-500 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <p class="text-red-600 font-medium mb-4">${message}</p>
                    <button id="try-again" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium">다시 시도하기</button>
                </div>
            `;
            
            // 다시 시도하기 버튼 이벤트
            const tryAgainBtn = document.getElementById('try-again');
            if (tryAgainBtn) {
                tryAgainBtn.addEventListener('click', resetOutput);
            }
            
            // 출력 영역 표시
            outputContainer.classList.remove('hidden');
        }</script><script src="./assets/js/runtime.de24373e37ed45e6173b.js"></script><script src="./assets/js/app-core.64eded351dc5beb6de24.js"></script><script src="./assets/js/shared-modules.5094e7ca7a3c2d76f50e.js"></script><script src="./assets/js/common-utils.91cc098f37078468f162.js"></script><script src="./assets/js/template-utils.7287f6a48a0dd1b5355c.js"></script><script src="./assets/js/text-to-qr.cb56bd94b374f5f0fbcf.js"></script></body></html>