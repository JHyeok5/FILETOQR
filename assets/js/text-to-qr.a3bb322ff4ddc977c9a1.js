/*! For license information please see text-to-qr.a3bb322ff4ddc977c9a1.js.LICENSE.txt */
"use strict";(self.webpackChunkfiletoqr=self.webpackChunkfiletoqr||[]).push([[664],{666:(e,t,n)=>{var r=n(890);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(t,n,r,o){var i=n&&n.prototype instanceof v?n:v,a=Object.create(i.prototype);return u(a,"_invoke",function(t,n,r){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new q(o||[])),!0),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f={};function v(){}function p(){}function m(){}var g={};u(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==n&&r.call(b,s)&&(g=b);var w=m.prototype=v.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,s,l){var c=h(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;u(this,"_invoke",(function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}),!0)}function C(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=h(o,t.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[t.r]=a.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function _(e){this.tryEntries.push(e)}function L(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function q(e){this.tryEntries=[[-1]],e.forEach(_,this),this.reset(!0)}function k(t){if(null!=t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return p.prototype=m,u(w,"constructor",m),u(m,"constructor",p),p.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(w),u(w,c,"Generator"),u(w,s,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=k,q.prototype={constructor:q,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){a.type="throw",a.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,l=i[1],c=i[2];if(-1===i[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;L(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:k(t),r:n,n:r},"next"===this.method&&(this.arg=e),f}},t}function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))}}var l={state:{initialized:!1,file:null,fileContent:null,maxFileSize:5120,qrCanvas:null,errorCorrectionLevel:"M",qrSettings:{margin:4,scale:4,width:256,color:{dark:"#000000",light:"#ffffff"}}},init:function(){var e=this;return s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.initialized){t.next=3;break}return console.log("FileToQRConverter가 이미 초기화되어 있습니다."),t.abrupt("return",!0);case 3:return t.prev=3,console.log("FileToQRConverter 초기화 시작..."),t.next=7,r.A.init();case 7:return e._initUI(),e._registerEventListeners(),e.state.initialized=!0,console.log("FileToQRConverter 초기화 완료"),t.abrupt("return",!0);case 14:return t.prev=14,t.t0=t.catch(3),console.error("FileToQRConverter 초기화 중 에러 발생:",t.t0),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))()},_initUI:function(){if(document.getElementById("file-upload-section")){var e=document.getElementById("conversion-output");e&&(e.innerHTML='\n          <h2 class="text-xl font-semibold mb-4">QR 코드 변환 결과</h2>\n          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 min-h-32 flex flex-col items-center">\n            <div id="qr-preview-container" class="qr-preview-container mb-4">\n              <div class="text-center text-gray-500">\n                텍스트 파일을 업로드하면 QR 코드가 여기에 표시됩니다.\n              </div>\n            </div>\n            <div id="file-info" class="w-full text-sm text-gray-600 mb-4 hidden">\n              <div class="p-3 bg-blue-50 rounded-md">\n                <p class="font-medium">파일 정보:</p>\n                <p id="file-name">파일명: </p>\n                <p id="file-size">파일 크기: </p>\n                <p id="character-count">문자 수: </p>\n              </div>\n            </div>\n\n            <div id="qr-settings" class="w-full mb-4 hidden">\n              <div class="p-3 bg-gray-50 rounded-md">\n                <h3 class="font-medium mb-2">QR 코드 설정</h3>\n                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                  <div>\n                    <label class="block text-sm font-medium text-gray-700 mb-1">오류 수정 레벨</label>\n                    <select id="error-correction" class="w-full px-3 py-2 border rounded-md">\n                      <option value="L">낮음 (7%)</option>\n                      <option value="M" selected>중간 (15%)</option>\n                      <option value="Q">높음 (25%)</option>\n                      <option value="H">최고 (30%)</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label class="block text-sm font-medium text-gray-700 mb-1">QR 코드 크기</label>\n                    <select id="qr-size" class="w-full px-3 py-2 border rounded-md">\n                      <option value="200">작게 (200x200)</option>\n                      <option value="256" selected>보통 (256x256)</option>\n                      <option value="320">크게 (320x320)</option>\n                      <option value="400">아주 크게 (400x400)</option>\n                    </select>\n                  </div>\n                </div>\n                <button id="regenerate-qr" class="mt-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium text-sm">설정 적용 및 재생성</button>\n              </div>\n            </div>\n          </div>\n          <div class="flex justify-center gap-4 mt-4">\n            <button id="download-qr-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed" disabled>\n              QR 코드 다운로드\n            </button>\n            <button id="convert-another-btn" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium">\n              다른 파일 변환\n            </button>\n          </div>\n        ')}},_registerEventListeners:function(){var e=this,t=document.getElementById("file-upload");t&&t.addEventListener("change",this._handleFileUpload.bind(this));var n=document.getElementById("download-qr-btn");n&&n.addEventListener("click",this._handleDownload.bind(this));var r=document.getElementById("convert-another-btn");r&&r.addEventListener("click",this._resetConverter.bind(this));var o=document.getElementById("regenerate-qr");o&&o.addEventListener("click",this._regenerateQRCode.bind(this));var i=document.querySelector('label[for="file-upload"]');i&&(i.addEventListener("dragover",(function(e){e.preventDefault(),i.classList.add("bg-blue-100")})),i.addEventListener("dragleave",(function(){i.classList.remove("bg-blue-100")})),i.addEventListener("drop",(function(n){n.preventDefault(),i.classList.remove("bg-blue-100"),n.dataTransfer.files.length&&(t.files=n.dataTransfer.files,e._handleFileUpload({target:t}))})))},_updateQRSettings:function(){var e=document.getElementById("error-correction");e&&(this.state.errorCorrectionLevel=e.value);var t=document.getElementById("qr-size");t&&(this.state.qrSettings.width=parseInt(t.value,10))},_regenerateQRCode:function(){var e=this;return s(i().mark((function t(){var n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.fileContent){t.next=3;break}return alert("변환할 텍스트 파일을 먼저 업로드해주세요."),t.abrupt("return");case 3:return e._updateQRSettings(),t.next=6,e._generateQRCode(e.state.fileContent);case 6:(n=document.getElementById("qr-settings"))&&((r=document.createElement("div")).className="text-green-600 text-sm mt-2 text-center",r.textContent="QR 코드가 새 설정으로 재생성되었습니다.",(o=n.querySelector(".text-green-600"))&&o.remove(),n.appendChild(r),setTimeout((function(){r.parentNode&&r.remove()}),3e3));case 8:case"end":return t.stop()}}),t)})))()},_handleFileUpload:function(e){var t=this;return s(i().mark((function n(){var r,o,a,s,l;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.target.files[0]){n.next=3;break}return n.abrupt("return");case 3:if(r.type.match("text/plain")||r.name.endsWith(".txt")){n.next=7;break}return alert("텍스트 파일(.txt)만 지원됩니다."),n.abrupt("return");case 7:if(!(r.size>t.state.maxFileSize)){n.next=10;break}return alert("파일 크기는 ".concat(t.state.maxFileSize/1024,"KB 이하여야 합니다. (QR 코드 용량 제한)")),n.abrupt("return");case 10:return t._showLoadingState(!0),n.prev=11,t.state.file=r,n.next=15,t._readFileContent(r);case 15:return o=n.sent,t.state.fileContent=o,t._showFileInfo(r,o),n.next=20,t._generateQRCode(o);case 20:(a=document.getElementById("conversion-output"))&&a.classList.remove("hidden"),(s=document.getElementById("qr-settings"))&&s.classList.remove("hidden"),(l=document.getElementById("download-qr-btn"))&&(l.disabled=!1),n.next=32;break;case 28:n.prev=28,n.t0=n.catch(11),console.error("파일 처리 중 오류 발생:",n.t0),t._showError("파일을 처리하는 중 오류가 발생했습니다.");case 32:return n.prev=32,t._showLoadingState(!1),n.finish(32);case 35:case"end":return n.stop()}}),n,null,[[11,28,32,35]])})))()},_showLoadingState:function(e){var t=document.getElementById("qr-preview-container");t&&e&&(t.innerHTML='\n        <div class="text-center text-gray-500">\n          <svg class="animate-spin h-10 w-10 text-blue-500 mx-auto mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">\n            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n          </svg>\n          <p>QR 코드 생성 중...</p>\n        </div>\n      ')},_showError:function(e){var t=document.getElementById("qr-preview-container");t&&(t.innerHTML='\n      <div class="text-center text-red-500">\n        <svg class="h-10 w-10 text-red-500 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n        </svg>\n        <p>'.concat(e,"</p>\n      </div>\n    "))},_readFileContent:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){console.error("파일 읽기 오류:",e),n(e)},r.readAsText(e)}))},_showFileInfo:function(e,t){var n=document.getElementById("file-info"),r=document.getElementById("file-name"),o=document.getElementById("file-size"),i=document.getElementById("character-count");if(n&&r&&o&&i&&(r.textContent="파일명: ".concat(e.name),o.textContent="파일 크기: ".concat((e.size/1024).toFixed(2)," KB"),i.textContent="문자 수: ".concat(t.length," 자"),n.classList.remove("hidden"),t.length>500)){var a=document.createElement("p");a.className="text-amber-600 mt-2",a.textContent="* 문자 수가 많아 QR 코드 인식이 어려울 수 있습니다. 길이를 줄이는 것이 좋습니다.",n.appendChild(a)}},_generateQRCode:function(e){var t=this;return s(i().mark((function n(){var o,a,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=document.getElementById("qr-preview-container")){n.next=3;break}return n.abrupt("return");case 3:return o.innerHTML="",(a=document.createElement("canvas")).width=t.state.qrSettings.width,a.height=t.state.qrSettings.width,o.appendChild(a),t.state.qrCanvas=a,n.prev=9,n.next=12,r.A.state.qrLibrary.toCanvas(a,e,{width:t.state.qrSettings.width,margin:t.state.qrSettings.margin,color:t.state.qrSettings.color,errorCorrectionLevel:t.state.errorCorrectionLevel});case 12:a.style.maxWidth="100%",a.style.height="auto",a.classList.add("shadow-md","rounded-md"),n.next=23;break;case 17:n.prev=17,n.t0=n.catch(9),console.error("QR 코드 생성 중 오류 발생:",n.t0),t._showError("QR 코드 생성에 실패했습니다. 텍스트 내용이 너무 길거나 특수 문자가 많습니다."),(s=document.getElementById("qr-settings"))&&s.classList.add("hidden");case 23:case"end":return n.stop()}}),n,null,[[9,17]])})))()},_handleDownload:function(){if(this.state.qrCanvas)try{var e=this.state.file.name.replace(/\.[^/.]+$/,""),t="".concat(e,"-QR.png"),n=document.createElement("a");n.download=t;var r=this.state.qrCanvas.toDataURL("image/png",1);n.href=r,n.click();var o=document.getElementById("download-qr-btn");if(o){var i=o.textContent;o.textContent="다운로드 완료!",o.classList.remove("bg-blue-600","hover:bg-blue-700"),o.classList.add("bg-green-600","hover:bg-green-700"),setTimeout((function(){o.textContent=i,o.classList.remove("bg-green-600","hover:bg-green-700"),o.classList.add("bg-blue-600","hover:bg-blue-700")}),3e3)}}catch(e){console.error("QR 코드 다운로드 중 오류 발생:",e),alert("QR 코드 다운로드에 실패했습니다.")}else alert("QR 코드를 먼저 생성해주세요.")},_resetConverter:function(){this.state.file=null,this.state.fileContent=null,this.state.qrCanvas=null;var e=document.getElementById("file-info");if(e){e.classList.add("hidden");var t=e.querySelector(".text-amber-600");t&&t.remove()}var n=document.getElementById("qr-preview-container");n&&(n.innerHTML='<div class="text-center text-gray-500">텍스트 파일을 업로드하면 QR 코드가 여기에 표시됩니다.</div>');var r=document.getElementById("qr-settings");r&&r.classList.add("hidden");var o=document.getElementById("download-qr-btn");o&&(o.disabled=!0,o.classList.remove("bg-green-600","hover:bg-green-700"),o.classList.add("bg-blue-600","hover:bg-blue-700"),o.textContent="QR 코드 다운로드");var i=document.getElementById("file-upload");i&&(i.value="");var a=document.getElementById("conversion-output");a&&a.classList.add("hidden")}};"undefined"!=typeof window&&(window.FileToQR=window.FileToQR||{},window.FileToQR.FileToQRConverter=l)}},e=>{e.O(0,[420],(()=>{return t=666,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=text-to-qr.a3bb322ff4ddc977c9a1.js.map