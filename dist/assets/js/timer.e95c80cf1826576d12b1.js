"use strict";(self.webpackChunkfiletoqr=self.webpackChunkfiletoqr||[]).push([[638],{15:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,n(a.key),a)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}var i=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hours=0,this.minutes=0,this.seconds=0,this.totalSeconds=0,this.timer=null,this.isPaused=!1,this.isActive=!1,this.onUpdate=null,this.onComplete=null},(n=[{key:"start",value:function(t,e,n){this.hours=t||0,this.minutes=e||0,this.seconds=n||0,this.totalSeconds=3600*this.hours+60*this.minutes+this.seconds,this.totalSeconds<=0?console.error("타이머 시간은 0보다 커야 합니다."):(this.isActive=!0,this.isPaused=!1,this._updateTimerDisplay(),this._startCountdown())}},{key:"pause",value:function(){this.isActive&&this.timer&&(clearInterval(this.timer),this.timer=null,this.isPaused=!0)}},{key:"resume",value:function(){this.isActive&&this.isPaused&&(this.isPaused=!1,this._startCountdown())}},{key:"reset",value:function(){clearInterval(this.timer),this.timer=null,this.hours=0,this.minutes=0,this.seconds=0,this.totalSeconds=0,this.isActive=!1,this.isPaused=!1,"function"==typeof this.onUpdate&&this.onUpdate(0,0,0)}},{key:"getRemainingTime",value:function(){return{hours:this.hours,minutes:this.minutes,seconds:this.seconds}}},{key:"_startCountdown",value:function(){var t=this;null!==this.timer&&clearInterval(this.timer);var e=Date.now(),n=this.totalSeconds;this.timer=setInterval((function(){var i=Math.floor((Date.now()-e)/1e3);if(t.totalSeconds=n-i,t.totalSeconds<=0)return clearInterval(t.timer),t.timer=null,t.totalSeconds=0,t.isActive=!1,t._updateTimerDisplay(),void("function"==typeof t.onComplete&&t.onComplete());t._updateTimerDisplay()}),100)}},{key:"_updateTimerDisplay",value:function(){this.hours=Math.floor(this.totalSeconds/3600),this.minutes=Math.floor(this.totalSeconds%3600/60),this.seconds=this.totalSeconds%60,"function"==typeof this.onUpdate&&this.onUpdate(this.hours,this.minutes,this.seconds)}}])&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var r=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startTime=0,this.elapsedTime=0,this.timer=null,this.isPaused=!1,this.isActive=!1,this.laps=[],this.lastLapTime=0,this.onUpdate=null},(e=[{key:"start",value:function(){this.isActive&&!this.isPaused||(this.isActive?this.isPaused&&(this.startTime=Date.now()-this.elapsedTime):(this.startTime=Date.now(),this.elapsedTime=0,this.laps=[],this.lastLapTime=0),this.isActive=!0,this.isPaused=!1,this._startTimer())}},{key:"pause",value:function(){this.isActive&&!this.isPaused&&this.timer&&(clearInterval(this.timer),this.timer=null,this.isPaused=!0,this.elapsedTime=Date.now()-this.startTime)}},{key:"resume",value:function(){this.isActive&&this.isPaused&&this.start()}},{key:"reset",value:function(){clearInterval(this.timer),this.timer=null,this.startTime=0,this.elapsedTime=0,this.isActive=!1,this.isPaused=!1,this.laps=[],this.lastLapTime=0,"function"==typeof this.onUpdate&&this.onUpdate(0,0,0,0)}},{key:"getLapTime",value:function(){if(!this.isActive)return null;var t=this.isPaused?this.elapsedTime:Date.now()-this.startTime,e=t-this.lastLapTime;this.lastLapTime=t;var n=this._convertTime(e),i={time:e,hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds};return this.laps.push(i),i}},{key:"_startTimer",value:function(){var t=this;null!==this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){var e=Date.now()-t.startTime,n=t._convertTime(e),i=n.hours,a=n.minutes,s=n.seconds,o=n.milliseconds;"function"==typeof t.onUpdate&&t.onUpdate(i,a,s,o)}),10)}},{key:"_convertTime",value:function(t){var e=Math.floor(t/1e3);return{hours:Math.floor(e/3600),minutes:Math.floor(e%3600/60),seconds:e%60,milliseconds:Math.floor(t%1e3/10)}}}])&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,h(i.key),i)}}function h(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var f=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings={workMinutes:25,shortBreakMinutes:5,longBreakMinutes:15,totalCycles:4},this.totalSeconds=60*this.settings.workMinutes,this.timer=null,this.isPaused=!1,this.isActive=!1,this.currentMode="work",this.currentCycle=0,this.onUpdate=null,this.onModeChange=null,this.onComplete=null,this.onWorkSessionComplete=null},(e=[{key:"setSettings",value:function(t){this.settings=u(u({},this.settings),t),this.isActive||(this.totalSeconds=60*this.settings.workMinutes)}},{key:"start",value:function(){this.isActive&&!this.isPaused||(this.isActive||(this.currentMode="work",this.totalSeconds=60*this.settings.workMinutes,this.currentCycle=0),this.isActive=!0,this.isPaused=!1,this._startCountdown())}},{key:"pause",value:function(){this.isActive&&!this.isPaused&&this.timer&&(clearInterval(this.timer),this.timer=null,this.isPaused=!0)}},{key:"resume",value:function(){this.isActive&&this.isPaused&&(this.isPaused=!1,this._startCountdown())}},{key:"reset",value:function(){clearInterval(this.timer),this.timer=null,this.isActive=!1,this.isPaused=!1,this.currentMode="work",this.currentCycle=0,this.totalSeconds=60*this.settings.workMinutes,this._updateTimerDisplay()}},{key:"_startCountdown",value:function(){var t=this;null!==this.timer&&clearInterval(this.timer);var e=Date.now(),n=this.totalSeconds;this.timer=setInterval((function(){var i=Math.floor((Date.now()-e)/1e3);if(t.totalSeconds=n-i,t.totalSeconds<=0)return clearInterval(t.timer),t.timer=null,void t._handleModeComplete();t._updateTimerDisplay()}),100)}},{key:"_handleModeComplete",value:function(){var t;if("work"===this.currentMode)"function"==typeof this.onWorkSessionComplete&&this.onWorkSessionComplete(),(this.currentCycle+1)%this.settings.totalCycles==0&&this.currentCycle>0?(t="longBreak",this.totalSeconds=60*this.settings.longBreakMinutes):(t="shortBreak",this.totalSeconds=60*this.settings.shortBreakMinutes);else{if(this.currentCycle++,this.currentCycle>=this.settings.totalCycles)return this.isActive=!1,this.currentMode="work",this.totalSeconds=60*this.settings.workMinutes,"function"==typeof this.onComplete&&this.onComplete(this.currentCycle),void this._updateTimerDisplay();t="work",this.totalSeconds=60*this.settings.workMinutes}"function"==typeof this.onModeChange&&this.onModeChange(t),this.currentMode=t,this._updateTimerDisplay(),this._startCountdown()}},{key:"_updateTimerDisplay",value:function(){var t=Math.floor(this.totalSeconds/60),e=this.totalSeconds%60;"function"==typeof this.onUpdate&&this.onUpdate(t,e,this.currentCycle,this.settings.totalCycles,this.currentMode)}}])&&m(t.prototype,e),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,y(i.key),i)}}function y(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}var b=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentPlant={id:"sprout",name:"새싹",level:0,experience:0,maxExperience:100,stage:0,maxStage:5},this.plantThemes={indoor:[{id:"pothos",name:"스킨답서스",stages:5,requiredLevel:0},{id:"cactus",name:"선인장",stages:5,requiredLevel:3},{id:"ficus",name:"고무나무",stages:5,requiredLevel:5},{id:"moneyPlant",name:"행운목",stages:5,requiredLevel:8},{id:"orchid",name:"서양란",stages:5,requiredLevel:12}],garden:[{id:"tulip",name:"튤립",stages:5,requiredLevel:0},{id:"rose",name:"장미",stages:5,requiredLevel:3},{id:"sunflower",name:"해바라기",stages:5,requiredLevel:5},{id:"lavender",name:"라벤더",stages:5,requiredLevel:8},{id:"daisy",name:"데이지",stages:5,requiredLevel:12}],tropical:[{id:"monstera",name:"몬스테라",stages:5,requiredLevel:0},{id:"palmTree",name:"야자수",stages:5,requiredLevel:3},{id:"birdOfParadise",name:"극락조",stages:5,requiredLevel:5},{id:"anthurium",name:"안스리움",stages:5,requiredLevel:8},{id:"hybiscus",name:"히비스커스",stages:5,requiredLevel:12}],succulent:[{id:"echeveria",name:"에케베리아",stages:5,requiredLevel:0},{id:"aloe",name:"알로에",stages:5,requiredLevel:3},{id:"haworthia",name:"하월시아",stages:5,requiredLevel:5},{id:"jadePlant",name:"금전수",stages:5,requiredLevel:8},{id:"burrosTail",name:"달꼬리",stages:5,requiredLevel:12}]},this.collection={},this.currentTheme="indoor"},(e=[{key:"initialize",value:function(){this._loadData(),this._updatePlantDisplay(),this._updatePlantInfo(),this._updateCollection()}},{key:"setTheme",value:function(t){this.plantThemes[t]&&(this.currentTheme=t,this._updateCollection(),this._saveData())}},{key:"addExperience",value:function(t){if(!(t<=0)){for(this.currentPlant.experience+=t;this.currentPlant.experience>=this.currentPlant.maxExperience;)this.currentPlant.experience-=this.currentPlant.maxExperience,this.currentPlant.level++,this._checkUnlocks(),this.currentPlant.maxExperience=100+20*this.currentPlant.level;this._calculateStage(),this._updatePlantDisplay(),this._updatePlantInfo(),this._updateCollection(),this._saveData()}}},{key:"changePlant",value:function(t){if(this.collection[t]){var e=this._findPlantTheme(t);if(e){var n=this.plantThemes[e].find((function(e){return e.id===t}));n&&(this.currentPlant.id=t,this.currentPlant.name=n.name,this.currentPlant.maxStage=n.stages,this._calculateStage(),this._updatePlantDisplay(),this._updatePlantInfo(),this._saveData())}}}},{key:"_calculateStage",value:function(){var t=Math.min(Math.floor(this.currentPlant.level/3),this.currentPlant.maxStage);this.currentPlant.stage=t}},{key:"_checkUnlocks",value:function(){var t=this;Object.keys(this.plantThemes).forEach((function(e){t.plantThemes[e].forEach((function(n){t.currentPlant.level>=n.requiredLevel&&(t.collection[n.id]={id:n.id,name:n.name,theme:e,unlocked:!0})}))}))}},{key:"_findPlantTheme",value:function(t){for(var e in this.plantThemes)if(this.plantThemes[e].find((function(e){return e.id===t})))return e;return null}},{key:"_updatePlantDisplay",value:function(){for(var t=document.getElementById("plant-image"),e=0;e<=this.currentPlant.maxStage;e++)t.querySelector(".plant-growth").classList.remove("plant-stage-".concat(e));t.querySelector(".plant-growth").classList.add("plant-stage-".concat(this.currentPlant.stage))}},{key:"_updatePlantInfo",value:function(){var t=document.getElementById("plant-name"),e=document.getElementById("plant-level"),n=document.getElementById("plant-exp"),i=document.getElementById("plant-exp-progress");t.textContent=this.currentPlant.name,e.textContent="레벨: ".concat(this.currentPlant.level),n.textContent="경험치: ".concat(this.currentPlant.experience," / ").concat(this.currentPlant.maxExperience);var a=this.currentPlant.experience/this.currentPlant.maxExperience*100;i.style.width="".concat(a,"%")}},{key:"_updateCollection",value:function(){var t=this,e=document.getElementById("plant-collection-grid");e.innerHTML="",this.plantThemes[this.currentTheme].forEach((function(n){var i,a=(null===(i=t.collection[n.id])||void 0===i?void 0:i.unlocked)||!1,s=document.createElement("div");s.className="plant-item ".concat(a?"":"locked"),a&&s.addEventListener("click",(function(){return t.changePlant(n.id)})),t.currentPlant.id===n.id&&s.classList.add("selected"),s.innerHTML='\n                <div class="plant-item-image">\n                    '.concat(a?'<div class="plant-icon '.concat(n.id,'"></div>'):'<div class="plant-icon locked"><i class="fas fa-lock"></i></div>',"\n                </div>\n                <p>").concat(a?n.name:"???","</p>\n                ").concat(a?"":"<small>레벨 ".concat(n.requiredLevel," 필요</small>"),"\n            "),e.appendChild(s)}))}},{key:"_saveData",value:function(){var t={currentPlant:this.currentPlant,collection:this.collection,currentTheme:this.currentTheme};localStorage.setItem("plantSystem",JSON.stringify(t))}},{key:"_loadData",value:function(){var t=localStorage.getItem("plantSystem");if(t){var e=JSON.parse(t);this.currentPlant=e.currentPlant,this.collection=e.collection,this.currentTheme=e.currentTheme||"indoor"}else{var n=this.plantThemes[this.currentTheme][0];this.collection[n.id]={id:n.id,name:n.name,theme:this.currentTheme,unlocked:!0},this.currentPlant.id=n.id,this.currentPlant.name=n.name}}}])&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,k(i.key),i)}}function k(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=g(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:e+""}var w=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound="bell",this.volume=.8,this.backgroundNotification=!0,this._requestNotificationPermission()},(e=[{key:"setSound",value:function(t){["bell","digital","nature","none"].includes(t)&&(this.sound=t)}},{key:"setVolume",value:function(t){t>=0&&t<=1&&(this.volume=t)}},{key:"setBackgroundNotification",value:function(t){this.backgroundNotification=t}},{key:"playNotification",value:function(t,e){this._playSound(),this.backgroundNotification&&this._showNotification(t,e)}},{key:"_playSound",value:function(){if("none"!==this.sound){var t=document.getElementById("".concat(this.sound,"-sound"));if(t){t.volume=this.volume,t.pause(),t.currentTime=0;var e=t.play();void 0!==e&&e.catch((function(t){console.warn("자동 재생이 차단되었습니다:",t)}))}}}},{key:"_showNotification",value:function(t,e){if("Notification"in window)if("granted"===Notification.permission){var n=new Notification(t,{body:e,icon:"/assets/images/timer-icon.png"});n.onclick=function(){window.focus(),n.close()},setTimeout((function(){return n.close()}),5e3)}else"denied"!==Notification.permission&&this._requestNotificationPermission();else console.warn("이 브라우저는 알림을 지원하지 않습니다.")}},{key:"_requestNotificationPermission",value:function(){"Notification"in window&&"granted"!==Notification.permission&&"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){"granted"===t&&console.log("알림 권한이 허용되었습니다.")})).catch((function(t){console.error("알림 권한 요청 중 오류 발생:",t)}))}}])&&S(t.prototype,e),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function P(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||T(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,a,s,o,r=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(r.push(i.value),r.length!==e);l=!0);}catch(t){c=!0,a=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return r}}(t,e)||T(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){if(t){if("string"==typeof t)return I(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var C,L=new Map,x=1;function M(){console.log("새 타이머 추가 함수 호출됨");try{var t=document.getElementById("timers-list");if(!t)return void console.error("타이머 목록 요소를 찾을 수 없음");var e=String(x++);console.log("새 타이머 ID: ".concat(e," 생성 중"));var n=new i;L.set(e,n);var a=document.createElement("div");a.className="timer-item",a.dataset.timerId=e,a.innerHTML='\n            <div class="timer-header">\n                <input type="text" class="timer-label" placeholder="타이머 이름">\n                <button class="close-timer"><i class="fas fa-times"></i></button>\n            </div>\n            <div class="timer-display">\n                <span class="timer-hours">00</span>:<span class="timer-minutes">00</span>:<span class="timer-seconds">00</span>\n            </div>\n            <div class="timer-controls">\n                <button class="timer-start control-btn"><i class="fas fa-play"></i></button>\n                <button class="timer-pause control-btn" disabled><i class="fas fa-pause"></i></button>\n                <button class="timer-reset control-btn"><i class="fas fa-redo"></i></button>\n            </div>\n            <div class="timer-settings">\n                <div class="time-input">\n                    <label>시간:</label>\n                    <input type="number" class="hours-input" min="0" max="23" value="0">\n                </div>\n                <div class="time-input">\n                    <label>분:</label>\n                    <input type="number" class="minutes-input" min="0" max="59" value="0">\n                </div>\n                <div class="time-input">\n                    <label>초:</label>\n                    <input type="number" class="seconds-input" min="0" max="59" value="0">\n                </div>\n            </div>\n            <div class="preset-buttons">\n                <button class="preset-btn" data-minutes="5">5분</button>\n                <button class="preset-btn" data-minutes="10">10분</button>\n                <button class="preset-btn" data-minutes="15">15분</button>\n                <button class="preset-btn" data-minutes="30">30분</button>\n            </div>\n        ',t.appendChild(a),console.log("타이머 요소 DOM에 추가됨"),_(a,n),a.querySelector(".close-timer").addEventListener("click",(function(){console.log("닫기 버튼 클릭"),B(a,e)})),a.querySelector(".timer-label").focus(),a.scrollIntoView({behavior:"smooth"}),console.log("새 타이머 추가 완료")}catch(t){console.error("타이머 추가 오류:",t),alert("타이머 추가 중 오류가 발생했습니다.")}}function B(t,e){console.log("타이머 제거: ".concat(e));var n=L.get(e);n&&(n.reset(),L.delete(e)),t.style.opacity="0",t.style.transform="scale(0.8)",t.style.transition="all 0.3s ease-out",setTimeout((function(){t.remove(),console.log("타이머 요소 제거됨")}),300);var i=JSON.parse(localStorage.getItem("activeTimers")||"{}");delete i[e],localStorage.setItem("activeTimers",JSON.stringify(i))}function _(t,e){var n=t.querySelector(".hours-input"),i=t.querySelector(".minutes-input"),a=t.querySelector(".seconds-input"),s=t.querySelector(".timer-label"),o=t.querySelector(".timer-start"),r=t.querySelector(".timer-pause"),l=t.querySelector(".timer-reset"),c=t.querySelectorAll(".preset-btn"),u=t.querySelector(".timer-hours"),d=t.querySelector(".timer-minutes"),m=t.querySelector(".timer-seconds");function h(){o.disabled=!1,r.disabled=!0,r.innerHTML='<i class="fas fa-pause"></i>',n.disabled=!1,i.disabled=!1,a.disabled=!1,c.forEach((function(t){return t.disabled=!1}))}e.onUpdate=function(t,e,n){u.textContent=t.toString().padStart(2,"0"),d.textContent=e.toString().padStart(2,"0"),m.textContent=n.toString().padStart(2,"0")},e.onComplete=function(){var e=s.value.trim()||"타이머";C.playNotification("".concat(e," 완료!"),"설정한 시간이 완료되었습니다."),t.classList.add("timer-complete"),h();try{var n=new Audio("assets/sounds/bell.mp3");n.volume=.5,n.play()}catch(t){console.warn("알림음 재생 실패:",t)}},o.addEventListener("click",(function(){var s=parseInt(n.value)||0,l=parseInt(i.value)||0,u=parseInt(a.value)||0;0!==s||0!==l||0!==u?(t.classList.remove("timer-complete"),e.start(s,l,u),o.disabled=!0,r.disabled=!1,n.disabled=!0,i.disabled=!0,a.disabled=!0,c.forEach((function(t){return t.disabled=!0}))):alert("타이머 시간을 설정해주세요.")})),r.addEventListener("click",(function(){e.isPaused?(e.resume(),r.innerHTML='<i class="fas fa-pause"></i>'):(e.pause(),r.innerHTML='<i class="fas fa-play"></i>')})),l.addEventListener("click",(function(){e.reset(),h(),t.classList.remove("timer-complete")})),c.forEach((function(t){t.addEventListener("click",(function(){var e=parseInt(t.dataset.minutes);n.value=0,i.value=e,a.value=0,u.textContent="00",d.textContent=e.toString().padStart(2,"0"),m.textContent="00"}))}))}function q(){var t={};L.forEach((function(e,n){if(e.isActive){var i=document.querySelector('.timer-item[data-timer-id="'.concat(n,'"]'));if(i){var a=i.querySelector(".timer-label").value,s=e.getRemainingTime();t[n]={label:a,hours:s.hours,minutes:s.minutes,seconds:s.seconds,isPaused:e.isPaused}}}})),localStorage.setItem("activeTimers",JSON.stringify(t))}document.addEventListener("DOMContentLoaded",(function(){console.log("타이머 페이지 초기화");try{C=new w;var t=new r,e=new f,n=new b;s=document.querySelectorAll(".tab-btn"),o=document.querySelectorAll(".tab-content"),s.forEach((function(t){t.addEventListener("click",(function(){var e=t.dataset.tab;console.log("탭 전환: ".concat(e)),s.forEach((function(t){return t.classList.remove("active")})),t.classList.add("active"),o.forEach((function(t){return t.classList.remove("active")})),document.getElementById("".concat(e,"-tab")).classList.add("active");var n=document.querySelector(".plant-container");n&&(n.style.display="pomodoro"===e?"block":"none")}))})),function(){console.log("다중 타이머 설정");var t=document.querySelector(".timer-item");if(t){console.log("초기 타이머 설정");var e=t.dataset.timerId,n=new i;L.set(e,n),_(t,n)}(function(){var t=JSON.parse(localStorage.getItem("activeTimers")||"{}"),e=document.getElementById("timers-list");if(0===Object.keys(t).length)return;Object.entries(t).forEach((function(t){var n=E(t,2),a=n[0],s=n[1],o=new i;L.set(a,o);var r=document.createElement("div");r.className="timer-item",r.dataset.timerId=a,r.innerHTML='\n            <div class="timer-header">\n                <input type="text" class="timer-label" placeholder="타이머 이름" value="'.concat(s.label||"",'">\n                <button class="close-timer"><i class="fas fa-times"></i></button>\n            </div>\n            <div class="timer-display">\n                <span class="timer-hours">').concat(s.hours.toString().padStart(2,"0"),'</span>:\n                <span class="timer-minutes">').concat(s.minutes.toString().padStart(2,"0"),'</span>:\n                <span class="timer-seconds">').concat(s.seconds.toString().padStart(2,"0"),'</span>\n            </div>\n            <div class="timer-controls">\n                <button class="timer-start control-btn" ').concat(s.isPaused?"":"disabled",'><i class="fas fa-play"></i></button>\n                <button class="timer-pause control-btn" ').concat(s.isPaused?"disabled":"",'><i class="fas fa-pause"></i></button>\n                <button class="timer-reset control-btn"><i class="fas fa-redo"></i></button>\n            </div>\n            <div class="timer-settings">\n                <div class="time-input">\n                    <label>시간:</label>\n                    <input type="number" class="hours-input" min="0" max="23" value="').concat(s.hours,'" ').concat(s.isPaused?"":"disabled",'>\n                </div>\n                <div class="time-input">\n                    <label>분:</label>\n                    <input type="number" class="minutes-input" min="0" max="59" value="').concat(s.minutes,'" ').concat(s.isPaused?"":"disabled",'>\n                </div>\n                <div class="time-input">\n                    <label>초:</label>\n                    <input type="number" class="seconds-input" min="0" max="59" value="').concat(s.seconds,'" ').concat(s.isPaused?"":"disabled",'>\n                </div>\n            </div>\n            <div class="preset-buttons">\n                <button class="preset-btn" data-minutes="5" ').concat(s.isPaused?"":"disabled",'>5분</button>\n                <button class="preset-btn" data-minutes="10" ').concat(s.isPaused?"":"disabled",'>10분</button>\n                <button class="preset-btn" data-minutes="15" ').concat(s.isPaused?"":"disabled",'>15분</button>\n                <button class="preset-btn" data-minutes="30" ').concat(s.isPaused?"":"disabled",">30분</button>\n            </div>\n        "),e.appendChild(r),_(r,o),r.querySelector(".close-timer").addEventListener("click",(function(){return B(r,a)})),s.isPaused||o.start(s.hours,s.minutes,s.seconds)}));var n=Math.max.apply(Math,[0].concat(P(Object.keys(t).map((function(t){return parseInt(t)})))));x=n+1})(),setInterval(q,1e4)}(),function(t){var e=document.getElementById("stopwatch-start"),n=document.getElementById("stopwatch-pause"),i=document.getElementById("stopwatch-reset"),a=document.getElementById("stopwatch-lap"),s=document.getElementById("laps-list"),o=document.getElementById("stopwatch-hours"),r=document.getElementById("stopwatch-minutes"),l=document.getElementById("stopwatch-seconds"),c=document.getElementById("stopwatch-milliseconds");function u(){e.disabled=!1,n.disabled=!0,a.disabled=!0,n.innerHTML='<i class="fas fa-pause"></i>'}function d(t){var e=t.hours,n=t.minutes,i=t.seconds,a=t.milliseconds;return"".concat(e.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"),".").concat(a.toString().padStart(2,"0"))}t.onUpdate=function(t,e,n,i){o.textContent=t.toString().padStart(2,"0"),r.textContent=e.toString().padStart(2,"0"),l.textContent=n.toString().padStart(2,"0"),c.textContent=i.toString().padStart(2,"0")},e.addEventListener("click",(function(){t.start(),e.disabled=!0,n.disabled=!1,a.disabled=!1})),n.addEventListener("click",(function(){t.isPaused?(t.resume(),n.innerHTML='<i class="fas fa-pause"></i>'):(t.pause(),n.innerHTML='<i class="fas fa-play"></i>')})),i.addEventListener("click",(function(){t.reset(),u(),s.innerHTML=""})),a.addEventListener("click",(function(){var e=t.getLapTime(),n=t.laps.length,i=document.createElement("li");i.innerHTML="\n            <span>랩 ".concat(n,"</span>\n            <span>").concat(d(e),"</span>\n        "),s.appendChild(i)}))}(t),function(t,e,n){var i=document.getElementById("pomodoro-start"),a=document.getElementById("pomodoro-pause"),s=document.getElementById("pomodoro-reset"),o=document.getElementById("pomodoro-minutes"),r=document.getElementById("pomodoro-seconds"),l=document.getElementById("status-text"),c=document.getElementById("cycle-count"),u=document.getElementById("current-mode-time"),d=document.getElementById("work-time"),m=document.getElementById("break-time"),h=document.getElementById("work-minutes"),f=document.getElementById("short-break-minutes"),p=document.getElementById("long-break-minutes"),v=document.getElementById("pomodoro-cycles");function y(){var e=parseInt(h.value)||25,n=parseInt(f.value)||5,i=parseInt(p.value)||15,a=parseInt(v.value)||4;h.value=Math.max(1,Math.min(60,e)),f.value=Math.max(1,Math.min(30,n)),p.value=Math.max(1,Math.min(60,i)),v.value=Math.max(1,Math.min(10,a)),t.setSettings({workMinutes:h.value,shortBreakMinutes:f.value,longBreakMinutes:p.value,totalCycles:v.value}),o.textContent=h.value.toString().padStart(2,"0"),r.textContent="00",g("work"),b(),c.textContent="0/".concat(v.value)}function b(){var t=parseInt(h.value)||25,e=parseInt(f.value)||5;d.textContent="".concat(t.toString().padStart(2,"0"),":00"),m.textContent="".concat(e.toString().padStart(2,"0"),":00")}function g(t){var e=0;switch(t){case"work":e=parseInt(h.value)||25;break;case"shortBreak":e=parseInt(f.value)||5;break;case"longBreak":e=parseInt(p.value)||15}u.textContent="".concat(e.toString().padStart(2,"0"),":00")}function S(){i.disabled=!1,a.disabled=!0,a.innerHTML='<i class="fas fa-pause"></i>',h.disabled=!1,f.disabled=!1,p.disabled=!1,v.disabled=!1,y()}h.addEventListener("change",y),f.addEventListener("change",y),p.addEventListener("change",y),v.addEventListener("change",y),i.addEventListener("click",(function(){t.start(),i.disabled=!0,a.disabled=!1,h.disabled=!0,f.disabled=!0,p.disabled=!0,v.disabled=!0})),a.addEventListener("click",(function(){t.isPaused?(t.resume(),a.innerHTML='<i class="fas fa-pause"></i>'):(t.pause(),a.innerHTML='<i class="fas fa-play"></i>')})),s.addEventListener("click",(function(){t.reset(),S()})),t.onUpdate=function(t,e,n,i,a){o.textContent=t.toString().padStart(2,"0"),r.textContent=e.toString().padStart(2,"0"),c.textContent="".concat(n,"/").concat(i),"work"===a?l.textContent="작업 시간":"shortBreak"===a?l.textContent="짧은 휴식":"longBreak"===a&&(l.textContent="긴 휴식")},t.onModeChange=function(t){var n="",i="";"work"===t?(n="작업 시간!",i="지금부터 집중해서 작업하세요.",g("work")):"shortBreak"===t?(n="짧은 휴식 시간!",i="잠시 휴식을 취하세요.",g("shortBreak")):"longBreak"===t&&(n="긴 휴식 시간!",i="충분히 휴식을 취하세요.",g("longBreak")),e.playNotification(n,i)},t.onComplete=function(t){e.playNotification("포모도로 완료!","".concat(t,"번의 포모도로 세션을 완료했습니다.")),S();var i=15*t;n.addExperience(i)},t.onWorkSessionComplete=function(){n.addExperience(10)},y()}(e,C,n),function(t,e){var n=document.getElementById("notification-sound"),i=document.getElementById("notification-volume"),a=document.getElementById("background-notification"),s=document.getElementById("plant-theme");function o(){var e={notificationSound:n.value,notificationVolume:i.value,backgroundNotification:a.checked,plantTheme:s.value};localStorage.setItem("timerSettings",JSON.stringify(e)),t.setSound(e.notificationSound),t.setVolume(e.notificationVolume/100),t.setBackgroundNotification(e.backgroundNotification)}function r(){var o=localStorage.getItem("timerSettings");if(o){var r=JSON.parse(o);n.value=r.notificationSound||"bell",i.value=r.notificationVolume||80,a.checked=void 0===r.backgroundNotification||r.backgroundNotification,s.value=r.plantTheme||"indoor",t.setSound(r.notificationSound),t.setVolume(r.notificationVolume/100),t.setBackgroundNotification(r.backgroundNotification),e.changeTheme(r.plantTheme)}}n.addEventListener("change",o),i.addEventListener("input",o),a.addEventListener("change",o),s.addEventListener("change",(function(){o(),e.changeTheme(s.value)})),r()}(C,n),n.initialize();var a=document.getElementById("add-timer");a&&a.addEventListener("click",(function(t){console.log("타이머 추가 버튼 클릭 이벤트 발생"),t.preventDefault(),M()})),document.addEventListener("add-new-timer",(function(){console.log("커스텀 이벤트로 타이머 추가"),M()})),window.addNewTimerGlobal=function(){console.log("글로벌 함수로 타이머 추가"),M()},console.log("타이머 페이지 초기화 완료")}catch(t){console.error("타이머 페이지 초기화 오류:",t)}var s,o}))}},t=>{var e;e=15,t(t.s=e)}]);
//# sourceMappingURL=timer.e95c80cf1826576d12b1.js.map