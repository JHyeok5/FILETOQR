<!-- 
  헤더 컴포넌트 - FileToQR 애플리케이션 
  버전: 1.0.0
  최종 업데이트: 2025년 5월 2일
-->
<header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4">
        <div class="flex justify-between items-center">
            <a href="{{basePath}}index.html" class="flex items-center">
                <img src="{{basePath}}assets/images/logo.svg" alt="FileToQR Logo" class="h-8 mr-2" onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjU2M0VCIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci1maWxlIj48cGF0aCBkPSJNMTMgMkgxOEMyMC4yMDkxIDIgMjIgMy43OTA4NiAyMiA2VjE4QzIyIDIwLjIwOTEgMjAuMjA5MSAyMiAxOCAyMkg2QzMuNzkwODYgMjIgMiAyMC4yMDkxIDIgMThWNkMyIDMuNzkwODYgMy43OTA4NiAyIDYgMkgxMFoiPjwvcGF0aD48cGF0aCBkPSJNNyAxNkwxMSAxMkwxNSAxNiI+PC9wYXRoPjxwYXRoIGQ9Ik03IDEyTDExIDhMMTUgMTIiPjwvcGF0aD48L3N2Zz4='; this.classList.add('h-8');">
                <span class="text-2xl font-bold text-blue-600">FileToQR</span>
            </a>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="{{basePath}}index.html" class="text-gray-700 hover:text-blue-600 font-medium">홈</a></li>
                    <li><a href="{{basePath}}convert.html" class="text-gray-700 hover:text-blue-600 font-medium">파일 변환</a></li>
                    <li><a href="{{basePath}}qrcode.html" class="text-gray-700 hover:text-blue-600 font-medium">QR 코드</a></li>
                    <li><a href="{{basePath}}timer.html" class="text-gray-700 hover:text-blue-600 font-medium">타이머</a></li>
                    <li><a href="{{basePath}}blog.html" class="text-gray-700 hover:text-blue-600 font-medium">블로그</a></li>
                    <li><a href="{{basePath}}help.html" class="text-gray-700 hover:text-blue-600 font-medium">도움말</a></li>
                    <li><a href="{{basePath}}contact.html" class="text-gray-700 hover:text-blue-600 font-medium">문의하기</a></li>
                </ul>
            </nav>
        </div>
    </div>
    
    <script>
        // basePath 변수가 없는 경우를 위한 폴백 스크립트
        document.addEventListener('DOMContentLoaded', function() {
            // basePath가 처리되지 않은 링크 확인
            const links = document.querySelectorAll('a[href*="{{basePath}}"]');
            
            if (links.length > 0) {
                console.warn('basePath 변수가 처리되지 않았습니다. 폴백 방식으로 수정합니다.');
                
                // 각 링크 수정
                links.forEach(link => {
                    const originalHref = link.getAttribute('href');
                    // {{basePath}} 부분을 기본값(상대 경로)으로 대체
                    const fixedHref = originalHref.replace('{{basePath}}', './');
                    link.setAttribute('href', fixedHref);
                    console.log(`링크 수정: ${originalHref} → ${fixedHref}`);
                });
            }
            
            // 블로그 링크가 있는지 확인하고 누락된 경우 추가
            const blogLink = document.querySelector('a[href$="blog.html"]');
            if (!blogLink) {
                console.warn('블로그 링크가 누락되었습니다. 추가합니다.');
                const nav = document.querySelector('nav ul');
                if (nav) {
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.href = './blog.html';
                    a.className = 'text-gray-700 hover:text-blue-600 font-medium';
                    a.textContent = '블로그';
                    li.appendChild(a);
                    nav.appendChild(li);
                }
            }
            
            // 타이머 링크가 있는지 확인하고 누락된 경우 추가
            const timerLink = document.querySelector('a[href$="timer.html"]');
            if (!timerLink) {
                console.warn('타이머 링크가 누락되었습니다. 추가합니다.');
                const nav = document.querySelector('nav ul');
                if (nav) {
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.href = './timer.html';
                    a.className = 'text-gray-700 hover:text-blue-600 font-medium';
                    a.textContent = '타이머';
                    
                    // QR 코드 링크 다음에 삽입
                    const qrLink = nav.querySelector('a[href$="qrcode.html"]');
                    if (qrLink && qrLink.parentElement) {
                        nav.insertBefore(li, qrLink.parentElement.nextSibling);
                    } else {
                        nav.appendChild(li);
                    }
                }
            }
        });
    </script>
</header> 