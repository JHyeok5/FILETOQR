<!-- 
  푸터 컴포넌트 - FileToQR 애플리케이션 
  버전: 1.0.0
  최종 업데이트: 2025년 7월 15일
-->
<footer class="bg-gray-100 mt-12">
    <div class="container mx-auto px-4 py-8">
        <div class="grid md:grid-cols-4 gap-8">
            <div>
                <h3 class="text-lg font-semibold mb-4">FileToQR</h3>
                <p class="text-gray-600 text-sm">파일 변환 및 QR 코드 생성 도구입니다. 쉽고 빠르게 파일을 변환하고 QR 코드를 생성하세요.</p>
            </div>
            <div>
                <h3 class="text-lg font-semibold mb-4">바로가기</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" data-i18n-url="home" class="text-gray-600 hover:text-blue-600">홈</a></li>
                    <li><a href="#" data-i18n-url="convert" class="text-gray-600 hover:text-blue-600">파일 변환</a></li>
                    <li><a href="#" data-i18n-url="qrcode" class="text-gray-600 hover:text-blue-600">QR 코드</a></li>
                    <li><a href="#" data-i18n-url="timer" class="text-gray-600 hover:text-blue-600">타이머</a></li>
                    <li><a href="#" data-i18n-url="help" class="text-gray-600 hover:text-blue-600">도움말</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-lg font-semibold mb-4">정책</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" data-i18n-url="privacy" class="text-gray-600 hover:text-blue-600">개인정보 처리방침</a></li>
                    <li><a href="#" data-i18n-url="terms" class="text-gray-600 hover:text-blue-600">이용약관</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-lg font-semibold mb-4">문의</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" data-i18n-url="contact" class="text-gray-600 hover:text-blue-600">문의하기</a></li>
                </ul>
            </div>
        </div>
        <div class="border-t border-gray-200 mt-8 pt-6 text-center text-gray-500">
            <p>&copy; 2025 FileToQR. All rights reserved.</p>
        </div>
    </div>
    
    <script>
        window.FileToQR = window.FileToQR || {};
        window.FileToQR.Footer = window.FileToQR.Footer || {};

        window.FileToQR.Footer.initializeFooter = function() {
            // basePath 변수가 없는 경우를 위한 폴백 스크립트
            const links = document.querySelectorAll('footer a[href*="{{basePath}}"]'); // footer 내부의 링크만 선택하도록 수정
            
            if (links.length > 0) {
                console.warn('푸터: basePath 변수가 처리되지 않았습니다. 폴백 방식으로 수정합니다.');
                
                links.forEach(link => {
                    const originalHref = link.getAttribute('href');
                    const fixedHref = originalHref.replace('{{basePath}}', '.'); // 상대 경로로 수정
                    link.setAttribute('href', fixedHref);
                    console.log(`푸터 링크 수정: ${originalHref} → ${fixedHref}`);
                });
            }
            
            // RTL 지원을 위한 푸터 그리드 조정
            if (document.documentElement.getAttribute('dir') === 'rtl') {
                const footerGrid = document.querySelector('footer .grid');
                if (footerGrid) {
                    footerGrid.style.direction = 'rtl';
                }
            }
            
            // 마지막 업데이트 날짜 지역화
            if (window.FileToQR && window.FileToQR.i18n) {
                const lastUpdateElem = document.querySelector('[data-i18n="footer.lastUpdate"]');
                if (lastUpdateElem) {
                    try {
                        const originalText = lastUpdateElem.textContent;
                        const dateMatch = originalText.match(/\d{4}년\s*\d{1,2}월\s*\d{1,2}일/);
                        
                        if (dateMatch && dateMatch[0]) {
                            const dateStr = dateMatch[0].replace(/년|월|일/g, '-').replace(/\s+/g, '');
                            const date = new Date(dateStr);
                            
                            if (!isNaN(date.getTime())) {
                                const formattedDate = window.FileToQR.i18n.formatDate(date);
                                const prefix = window.FileToQR.i18n.t('footer.lastUpdate').split(':')[0] || '최종 업데이트';
                                lastUpdateElem.textContent = `${prefix}: ${formattedDate}`;
                            }
                        }
                    } catch (e) {
                        console.warn('날짜 지역화 실패:', e);
                    }
                }
            }
        };
    </script>
</footer> 